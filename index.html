<<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ìš°ë¦¬, í•˜íšŒí• ê¹Œ?</title>

<!-- ê¶ì„œì²´ ìš°ì„  -->
<style>
  @font-face{font-family:"GungsuhLocal";src:local("ê¶ì„œ"),local("Gungsuh");}

  :root{
    --ink:#2c1e12;         /* ë³¸ë¬¸ ê¸€ì */
    --bg:#f7f1e7;          /* ë°°ê²½ ì¢…ì´í†¤ */
    --panel:#fbf7f0;       /* íŒ¨ë„ ì¢…ì´í†¤ */
    --line:#e6dccb;        /* ì¹´ë“œ í…Œë‘ë¦¬ */
    --ok:#c0a27f;          /* ì™„ë£Œ ë°°ì§€ */
    --pill:#7c5b40;        /* ë²„íŠ¼ ë² ì´ìŠ¤ */
    --pill-ink:#f6efe6;    /* ë²„íŠ¼ ê¸€ì */
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    padding-top:64px; /* ìƒë‹¨ ì–‡ì€ ì²˜ë§ˆì™€ ê²¹ì¹¨ ë°©ì§€ */
    font-family:"GungsuhLocal","Gungsuh","Batang",serif;
    color:var(--ink);
    background:
      linear-gradient(rgba(255,255,255,.86),rgba(255,255,255,.86)),
      url("./assets/textures/hanji.jpg") center/cover fixed no-repeat;
  }

  /* ===== Hero (ì œëª©ì€ ê³ ì • ì•„ë‹˜) ===== */
  .hero{
    position:relative; z-index:2; text-align:center;
    max-width:980px; margin:0 auto 18px;
  }
  #siteTitle{
    margin:0;
    font-weight:900;
    color:#2f2216;
    font-size:clamp(28px,7vw,56px);
    line-height:1.15;
    text-shadow: 0 1px 0 rgba(255,255,255,.45);
  }
  .subtitle{
    margin:.35rem 0 0; color:#5b4631; font-size:clamp(14px,3.4vw,22px);
  }

  .container{max-width:980px; margin:0 auto; padding:0 16px;}
  .panel{
    background:var(--panel);
    border:1px solid var(--line);
    box-shadow:0 10px 22px rgba(0,0,0,.06);
    border-radius:16px; padding:20px; margin:14px 0;
  }

  .btn{
    background:var(--pill);
    color:var(--pill-ink);
    border:none;
    border-radius:999px;
    padding:12px 18px;
    cursor:pointer;
    font-family:"GungsuhLocal","Gungsuh","Batang",serif;
    box-shadow: 0 2px 0 rgba(0,0,0,.18) inset, 0 4px 10px rgba(0,0,0,.12);
  }
  .btn:disabled{opacity:.45;cursor:not-allowed}
  .hidden{display:none}
  .center{text-align:center}
  .note{color:#7a6a58;font-size:14px}

  /* ===== Characters (ëª¨ë°”ì¼ 2ì—´, ë°ìŠ¤í¬í†± 4ì—´) ===== */
  .characters{
    display:grid; grid-template-columns:repeat(2,minmax(0,1fr));
    gap:12px;
  }
  .card{
    background:#f6f0e2; border:1px solid #e7d9c0; border-radius:14px;
    padding:12px 12px 8px; text-align:center; overflow:hidden;
    display:flex; flex-direction:column; align-items:center;
    transition:.15s ease; cursor:pointer;
  }
  .card:hover{transform:translateY(-2px)}
  .card.selected{outline:3px solid #b67b32}
  .card .name{
    margin-top:8px; color:#3b2a1a; font-size:clamp(16px,3.8vw,20px);
  }
  /* ì´ë¯¸ì§€ëŠ” ë°•ìŠ¤ ì•ˆì—ì„œë§Œ ë³´ì´ë„ë¡, ë¹„ìœ¨ ìœ ì§€ */
  .card img{
    display:block; margin:6px auto 10px;
    object-fit:contain; max-width:88%;
    max-height:clamp(140px,34vw,220px);
  }
  /* ì–‘ë°˜ë§Œ ìƒëŒ€ì ìœ¼ë¡œ ì‘ì•˜ë˜ ê²ƒ ë³´ì • */
  .card[data-char="yangban"] img{ transform:scale(1.10); transform-origin:center; }

  @media (min-width:768px){
    .characters{ grid-template-columns:repeat(4,minmax(0,1fr)); gap:14px; }
    .card img{ max-height:210px; max-width:90%; }
  }

  /* ===== Quests (ì¹´ë“œí˜•, ëª¨ë°”ì¼ ì¹œí™”) ===== */
  .quests{display:flex; flex-direction:column; gap:12px;}
  .qitem{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px; background:#fff;
    border:1px solid var(--line);
    border-radius: 16px; padding: 16px 14px;
    box-shadow: 0 6px 14px rgba(0,0,0,.05);
  }
  .q-left{ display:flex; align-items:center; gap:14px; }
  .qi{
    width:40px; height:40px; border-radius:50%;
    background:#f4eadb; display:grid; place-items:center;
    font-size:20px;
  }
  .qtext h4{ margin:0 0 6px; font-size:20px; font-weight:800; color:#3d2a1c; }
  .qtext p{ margin:0; color:#6a5846; }
  .badge{
    min-width:88px; text-align:center;
    background:#fff7ef; color:#6a5140;
    border:2px solid var(--ok); border-radius:14px;
    padding:8px 10px; font-weight:700;
    box-shadow: 0 2px 0 rgba(0,0,0,.06) inset;
  }
  .badge.done{ background: var(--ok); color:#fff; border-color:var(--ok); }

  /* ===== OX ===== */
  .ox{display:flex; gap:10px; justify-content:center; margin:10px 0}
  .ox .btn{min-width:120px; font-size:22px}

  /* ===== Coupons: ëª¨ë°”ì¼ ê°€ë¡œ ìŠ¤í¬ë¡¤ + ìŠ¤ëƒ… ===== */
  .coupon-strip{
    display:flex; gap:16px; overflow-x:auto; -webkit-overflow-scrolling:touch;
    scroll-snap-type:x mandatory; padding:12px 10px;
    border-radius:16px; background:rgba(255,255,255,.7); border:1px solid #d6c6a8;
  }
  .coupon-item{
    flex:0 0 72vw; max-width:360px; text-align:center; scroll-snap-align:center;
    background:#fff; border:1px solid #e3d3b2; border-radius:14px; padding:10px;
    box-shadow:0 4px 10px rgba(0,0,0,.08);
  }
  .coupon-item img{
    width:100%; height:48vw; max-height:240px;
    object-fit:cover; border-radius:14px;
    border:3px solid #d8c49a; box-shadow:0 4px 10px rgba(0,0,0,.18);
  }
  .coupon-item figcaption{
    margin-top:8px; color:#4b2c20; font-size:18px;
  }
  @media (min-width:768px){
    .coupon-item{ flex:0 0 220px; max-width:220px; }
    .coupon-item img{ height:190px; max-height:190px; }
  }

  /* í´ë¦­ ë§‰í˜ ë°©ì§€(í˜¹ì‹œ ëª¨ë¥¼ ë ˆì´ì–´ ê°„ì„­ ì°¨ë‹¨) */
  #story.panel { position:relative; z-index:2; }
  #btnStart { position:relative; z-index:3; }
</style>
</head>
<body>
  <!-- ìƒë‹¨ í•œì˜¥ ì²˜ë§ˆ(ì—°í•˜ê²Œ í•œ ì¤„) -->
  <div class="hanok-eaves" aria-hidden="true"></div>

  <!-- ì œëª©(ìŠ¤í¬ë¡¤ ë”°ë¼ì˜¤ì§€ ì•ŠìŒ) -->
  <header class="hero">
    <h1 id="siteTitle">ìš°ë¦¬, í•˜íšŒí• ê¹Œ?</h1>
    <p class="subtitle">ì „í†µÂ·í™˜ê²½Â·ì°¸ì—¬ì˜ ìƒˆë¡œìš´ ê³µì¡´, í•˜íšŒ ìˆ˜í˜¸ë‹¨ RPG</p>
  </header>

  <main class="container">

    <!-- ìŠ¤í† ë¦¬ -->
    <section id="story" class="panel">
      <h2>ìŠ¤í† ë¦¬ë¼ì¸</h2>
      <p>
        ì˜›ë‚  í•˜íšŒì˜ ìˆ˜í˜¸ì‹  <b>ë†ê²½ì‹ (í† ì§€ì‹ )</b>ì€ í’ìš”ì™€ ìƒëª…ì„ ê´€ì¥í–ˆìœ¼ë‚˜,
        ë¬´ë¶„ë³„í•œ ì“°ë ˆê¸°ì™€ ì˜¤ì—¼ìœ¼ë¡œ <b>ë‚™ë™ê°•</b>ì´ ë³‘ë“¤ì ë¶„ë…¸í–ˆìŠµë‹ˆë‹¤.
        ë‹¹ì‹ ì€ <b>í•˜íšŒ ìˆ˜í˜¸ë‹¨</b>ì´ ë˜ì–´ í™˜ê²½ ì •í™”ì™€ ì „í†µ ë³µì› í€˜ìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³ ,
        í©ì–´ì§„ <b>íƒˆ ì¡°ê°</b>ì„ ì°¾ì•„ í•˜íšŒì˜ í’ìš”ë¥¼ ë˜ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.
      </p>
      <div class="center" style="margin-top:10px">
        <button id="btnStart" class="btn">ì‹œì‘í•˜ê¸°</button>
      </div>
      <p class="note center" style="margin-top:6px">* ì‹œì‘í•˜ê¸°ë¥¼ ëˆŒëŸ¬ì•¼ë§Œ ìºë¦­í„° ì„ íƒìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
    </section>

    <!-- ìºë¦­í„° -->
    <section id="characters" class="panel hidden">
      <h2>í•˜íšŒ ìˆ˜í˜¸ë‹¨ ì„ íƒ</h2>
      <div class="characters" id="charGrid">
        <div class="card" data-char="yangban">
          <img src="./yangban.png" alt="ì–‘ë°˜">
          <div class="name">ì–‘ë°˜</div>
        </div>
        <div class="card" data-char="yeon">
          <img src="./yeon.png" alt="ì—°ì´ë‚­ì">
          <div class="name">ì—°ì´ë‚­ì</div>
        </div>
        <div class="card" data-char="ttogi">
          <img src="./ttogi.png" alt="ë˜ê¸°">
          <div class="name">ë˜ê¸°</div>
        </div>
        <div class="card" data-char="eojin">
          <img src="./eojin.png" alt="ì–´ì§„í• ë°°">
          <div class="name">ì–´ì§„í• ë°°</div>
        </div>
      </div>
      <div class="center" style="margin-top:10px">
        <button id="btnCharNext" class="btn" disabled>ì„ íƒí•˜ê³  ë‹¤ìŒ</button>
      </div>
    </section>

    <!-- í€˜ìŠ¤íŠ¸ í—ˆë¸Œ -->
   <section id="quests" class="panel hidden">
  <h2>í€˜ìŠ¤íŠ¸ ì„ íƒ</h2>
  <p id="qProgress" class="note">ì§„í–‰ í˜„í™©: 0/5 ì™„ë£Œ</p>

  <div class="quests-row">
    <button class="qcard" data-go="q-recycle" data-key="recycle">
      <span class="q-emoji">â™»ï¸</span>
      <span class="q-line">ë¶„ë¦¬ìˆ˜ê±° Â· ìŠ¤ë§ˆíŠ¸ ë¶„ë¦¬ìˆ˜ê±°ì¡´ ì¸ì¦</span>
      <span class="q-badge" id="badge-recycle">ëŒ€ê¸°</span>
    </button>

    <button class="qcard" data-go="q-photo" data-key="photo">
      <span class="q-emoji">ğŸ“¸</span>
      <span class="q-line">í¬í† ì¡´ Â· ì •í™” í›„ ì¸ì¦ìƒ·</span>
      <span class="q-badge" id="badge-photo">ëŒ€ê¸°</span>
    </button>

    <button class="qcard" data-go="q-ox" data-key="ox">
      <span class="q-emoji">ğŸŒ²</span>
      <span class="q-line">ë§Œì†¡ì • OÂ·X Â· ë²„íŠ¼ í€´ì¦ˆ</span>
      <span class="q-badge" id="badge-ox">ëŒ€ê¸°</span>
    </button>

    <button class="qcard" data-go="q-keyring" data-key="keyring">
      <span class="q-emoji">ğŸ§µ</span>
      <span class="q-line">ì—…ì‚¬ì´í´ë§ í‚¤ë§ Â· ì œì‘ ì¸ì¦</span>
      <span class="q-badge" id="badge-keyring">ëŒ€ê¸°</span>
    </button>

    <button class="qcard" data-go="q-happy" data-key="happy">
      <span class="q-emoji">ğŸ˜Š</span>
      <span class="q-line">ë‚˜ì˜ í–‰ë³µ ì‚¬ì§„ Â· ìˆœê°„ ê³µìœ </span>
      <span class="q-badge" id="badge-happy">ëŒ€ê¸°</span>
    </button>
  </div>
</section>

    <!-- ì¿ í° -->
    <section id="coupons" class="panel hidden">
      <div class="center" style="margin-bottom:18px;">
        <h2 style="font-size:36px; color:#3b2a1a; margin:0;">ğŸ ì¿ í° ë³´ìƒ</h2>
        <p style="color:#5b4631; font-size:17px; margin-top:4px;">í•˜íšŒ ìˆ˜í˜¸ë‹¨ì˜ í€˜ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ì™„ìˆ˜í•œ ë‹¹ì‹ ê»˜ ë“œë¦½ë‹ˆë‹¤ ğŸŒ¿</p>
      </div>

      <div class="coupon-strip">
        <figure class="coupon-item">
          <img src="./assets/coupons/moodlight.png" alt="ë¬´ë“œë“±">
          <figcaption>í•˜íšŒ ê°•ë³€ ë¬´ë“œë“±</figcaption>
        </figure>
        <figure class="coupon-item">
          <img src="./assets/coupons/tal-keyring.png" alt="íƒˆ í‚¤ë§">
          <figcaption>íƒˆ í‚¤ë§</figcaption>
        </figure>
        <figure class="coupon-item">
          <img src="./assets/coupons/hanji-diary.png" alt="í•œì§€ ë‹¤ì´ì–´ë¦¬">
          <figcaption>í•œì§€ ë‹¤ì´ì–´ë¦¬</figcaption>
        </figure>
      </div>

      <div class="center" style="margin-top:20px;">
        <p style="font-size:20px; color:#4b2c20; line-height:1.7;">
          ğŸ‰ <strong>êµ¿ì¦ˆ 10% í• ì¸ Â· ì¹´í˜ 10% í• ì¸ í˜œíƒ</strong><br>
          <em>ì´ í™”ë©´ì„ í˜„ì¥ ì§ì›ì—ê²Œ ë³´ì—¬ì£¼ì„¸ìš”.</em>
        </p>
      </div>

      <div class="center" style="margin-top:16px;">
        <button class="btn" id="btnBackHome">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      </div>
    </section>

  </main>

<!-- ===== ì•± ìŠ¤í¬ë¦½íŠ¸ (í´ë¦­/ì§„í–‰/ì™„ë£Œ/ì „í™˜) ===== -->
<script>
  // íŒ¨ë„ ì „í™˜
  function showPanel(id){
    document.querySelectorAll('.panel').forEach(p=>p.classList.add('hidden'));
    const tgt = document.getElementById(id);
    if (tgt){
      tgt.classList.remove('hidden');
      window.scrollTo({top:0, behavior:'smooth'});
    }
  }

  // ì‹œì‘í•˜ê¸°
  (function attachStart(){
    function bind(){
      const btn = document.getElementById('btnStart');
      if(!btn) return;
      btn.addEventListener('click', (e)=>{
        e.preventDefault(); e.stopPropagation();
        showPanel('characters');
        document.querySelector('#characters .card')?.scrollIntoView({behavior:'smooth', block:'start'});
      }, { once:true });
    }
    (document.readyState==='loading') ? document.addEventListener('DOMContentLoaded', bind) : bind();
  })();

  // ìºë¦­í„° ì„ íƒ
  let selectedChar = null;
  const charCards = document.querySelectorAll('#characters .card');
  const btnCharNext = document.getElementById('btnCharNext');
  charCards.forEach(card=>{
    card.addEventListener('click', ()=>{
      charCards.forEach(c=>c.classList.remove('selected'));
      card.classList.add('selected');
      selectedChar = card.getAttribute('data-char');
      btnCharNext.disabled = false;
    });
  });
  btnCharNext?.addEventListener('click', ()=>{
    if(!selectedChar) return;
    showPanel('quests');
  });

  // í€˜ìŠ¤íŠ¸ ì¹´ë“œ â†’ í•´ë‹¹ í€˜ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ
  document.querySelectorAll('#quests .qitem').forEach(el=>{
    el.addEventListener('click', ()=>{
      const nextId = el.getAttribute('data-go');
      if(nextId) showPanel(nextId);
    });
  });

  // OX í€´ì¦ˆ
  let oxAnswered = false;
  document.querySelectorAll('#q-ox .btn[data-ox]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const ans = btn.getAttribute('data-ox');
      const res = document.getElementById('oxResult');
      const ok = (ans === 'O'); // ì •ë‹µ: O
      res.textContent = ok ? 'ì •ë‹µì…ë‹ˆë‹¤! ğŸŒ²' : 'ì•„æƒœ! ì •ë‹µì€ O ì…ë‹ˆë‹¤.';
      document.getElementById('btnOxDone').disabled = false;
      oxAnswered = true;
    });
  });

  // ì§„í–‰ ìƒíƒœ
  const progress = { recycle:false, photo:false, ox:false, keyring:false, happy:false };
  const progEl = document.getElementById('qProgress');

  function updateBadges(){
    Object.keys(progress).forEach(k=>{
      const b = document.getElementById('badge-'+k);
      if(!b) return;
      if(progress[k]){ b.textContent='ì™„ë£Œ'; b.classList.add('done'); }
      else { b.textContent='ì§„í–‰ì¤‘'; b.classList.remove('done'); }
    });
    const doneCnt = Object.values(progress).filter(Boolean).length;
    if(progEl) progEl.textContent = `ì§„í–‰ í˜„í™©: ${doneCnt}/5 ì™„ë£Œ`;
    if(doneCnt === 5){
      showPanel('coupons');
    }else{
      showPanel('quests');
    }
  }

  // ê° í€˜ìŠ¤íŠ¸ ì™„ë£Œ ë²„íŠ¼
  document.querySelectorAll('[data-done]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const key = btn.getAttribute('data-done'); // recycle/photo/ox/keyring/happy
      if(key === 'ox' && !oxAnswered){
        alert('ë¨¼ì € O ë˜ëŠ” Xë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
        return;
      }
      progress[key] = true;
      updateBadges();
    });
  });

  // ì¿ í° â†’ ì²˜ìŒìœ¼ë¡œ
  document.getElementById('btnBackHome')?.addEventListener('click', ()=>{
    // ì´ˆê¸°í™” ì—†ì´ ì²˜ìŒìœ¼ë¡œ
    showPanel('story');
  });
</script>
</body>
</html>
