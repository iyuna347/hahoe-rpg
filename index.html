<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>우리, 하회할까?</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <h1>우리, 하회할까?</h1>
    <p>전통 · 환경 · 참여의 새로운 공존, 하회 수호단 RPG</p>
  </header>

  <main class="container">

    <!-- 스토리 -->
    <section id="story" class="panel">
      <h2>스토리라인</h2>
      <p>
        옛날 하회의 수호신 <b>농경신(토지신)</b>은 풍요와 생명을 관장했으나,
        무분별한 쓰레기와 오염으로 <b>낙동강</b>이 병들자 분노했습니다.
        당신은 <b>하회 수호단</b>이 되어 환경 정화와 전통 복원 퀘스트를 수행하고,
        흩어진 <b>탈 조각</b>을 찾아 하회의 풍요를 되찾아야 합니다.
      </p>
      <div class="center">
        <button id="btnStart" class="btn primary">시작하기</button>
      </div>
      <p class="note center">* 시작하기를 눌러야만 캐릭터 선택으로 이동합니다.</p>
    </section>

    <!-- 캐릭터 -->
    <section id="characters" class="panel hidden">
      <h2>하회 수호단 선택</h2>
      <div class="characters">
        <div class="card" data-char="yangban">
          <img src="./yangban.png" alt="양반">
          <div class="name">양반</div>
        </div>
        <div class="card" data-char="yeon">
          <img src="./yeon.png" alt="연이낭자">
          <div class="name">연이낭자</div>
        </div>
        <div class="card" data-char="ttogi">
          <img src="./ttogi.png" alt="또기">
          <div class="name">또기</div>
        </div>
        <div class="card" data-char="eojin">
          <img src="./eojin.png" alt="어진할배">
          <div class="name">어진할배</div>
        </div>
      </div>
      <div class="center" style="margin-top:10px">
        <button id="btnCharNext" class="btn primary" disabled>선택하고 다음</button>
      </div>
    </section>

   <!-- 퀘스트 허브 -->
<section id="quests" class="panel hidden">
  <h2>퀘스트 선택</h2>

  <!-- ✅ 진행 현황 줄 추가 -->
  <p id="qProgress" class="note">진행 현황: 0/5 완료</p>

  <div class="quests">
    <div class="qitem" data-go="q-recycle" data-key="recycle"><h4>① 분리수거 퀘스트</h4><p>스마트 분리수거존 인증</p></div>
    <div class="qitem" data-go="q-photo"   data-key="photo"><h4>② 포토존 퀘스트</h4><p>정화 후 인증샷 업로드</p></div>
    <div class="qitem" data-go="q-ox"      data-key="ox"><h4>③ 만송정 O·X</h4><p>버튼으로 퀴즈 응답</p></div>
    <div class="qitem" data-go="q-keyring" data-key="keyring"><h4>④ 업사이클링 키링</h4><p>제작 인증 업로드</p></div>
    <div class="qitem" data-go="q-happy"   data-key="happy"><h4>⑤ 나의 행복 사진</h4><p>행복한 순간 공유</p></div>
  </div>
</section>

    <!-- ① 분리수거 -->
    <section id="q-recycle" class="panel hidden">
      <h2>분리수거 퀘스트</h2>
      <p>스마트 분리수거존 QR을 인식한 뒤 현장 사진을 올려주세요.</p>
      <input id="recycleInput" type="file" accept="image/*" capture="environment">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="recycle">완료</button>
      </div>
    </section>

    <!-- ② 포토존 -->
    <section id="q-photo" class="panel hidden">
      <h2>포토존 퀘스트</h2>
      <p>강변/숲길 정화 전·후 중 '후' 사진을 업로드 해주세요.</p>
      <input id="photoInput" type="file" accept="image/*" capture="environment">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="photo">완료</button>
      </div>
    </section>

    <!-- ③ 만송정 OX -->
    <section id="q-ox" class="panel hidden">
      <h2>만송정 O·X 퀴즈</h2>
      <p>만송정 숲의 소나무 뿌리는 모래 지형을 고정하고 생태계를 지키는 데 도움이 된다.</p>
      <div class="ox">
        <button class="btn" data-ox="O">O</button>
        <button class="btn" data-ox="X">X</button>
      </div>
      <div id="oxResult" class="center note"></div>
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="ox" disabled id="btnOxDone">완료</button>
      </div>
    </section>

    <!-- ④ 업사이클링 키링 -->
    <section id="q-keyring" class="panel hidden">
      <h2>업사이클링 키링</h2>
      <p>11개 탈 중 원하는 디자인으로 제작한 사진을 업로드해주세요.</p>
      <input id="keyringInput" type="file" accept="image/*">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="keyring">완료</button>
      </div>
    </section>

    <!-- ⑤ 나의 행복 사진 -->
    <section id="q-happy" class="panel hidden">
      <h2>나의 행복 사진</h2>
      <p>하회에서 가장 행복했던 순간을 올려주세요.</p>
      <input id="happyInput" type="file" accept="image/*">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="happy">완료</button>
      </div>
    </section>

    <!-- 쿠폰 -->
    <section id="coupons" class="panel hidden" 
style="background:url('./assets/textures/hanji.jpg') center/cover; border:2px solid #c9b188; box-shadow:0 6px 18px rgba(0,0,0,0.1); border-radius:20px; padding:30px;">

  <div style="text-align:center; margin-bottom:18px;">
    <img src="./assets/textures/hanok-eaves.png" alt="한옥처마" 
         style="width:180px; opacity:0.8; margin-bottom:8px;">
    <h2 style="font-family:'Gungsuh',serif; font-size:36px; color:#3b2a1a; margin:0;">
      🎁 쿠폰 보상
    </h2>
    <p style="font-family:'Gungsuh',serif; color:#5b4631; font-size:17px; margin-top:4px;">
      하회 수호단의 퀘스트를 모두 완수한 당신께 드립니다 🌿
    </p>
  </div>

  <!-- ✅ 쿠폰 이미지 한 줄 정렬 -->
  <div style="
      display: flex;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: nowrap;
      gap: 28px;
      background-color: rgba(255,255,255,0.7);
      padding: 20px;
      border-radius: 16px;
      border: 1px solid #d6c6a8;
  ">

    <div style="text-align:center;">
      <img src="./assets/coupons/moodlight.png" alt="무드등" 
           style="width:190px; height:190px; object-fit:cover; border-radius:14px; box-shadow:0 4px 10px rgba(0,0,0,0.25); border:3px solid #d8c49a;">
      <div style="font-family:'Gungsuh',serif; margin-top:10px; color:#4b2c20; font-size:18px;">하회 강변 무드등</div>
    </div>

    <div style="text-align:center;">
      <img src="./assets/coupons/tal-keyring.png" alt="탈 키링" 
           style="width:190px; height:190px; object-fit:cover; border-radius:14px; box-shadow:0 4px 10px rgba(0,0,0,0.25); border:3px solid #d8c49a;">
      <div style="font-family:'Gungsuh',serif; margin-top:10px; color:#4b2c20; font-size:18px;">탈 키링</div>
    </div>

    <div style="text-align:center;">
      <img src="./assets/coupons/hanji-diary.png" alt="한지 다이어리" 
           style="width:190px; height:190px; object-fit:cover; border-radius:14px; box-shadow:0 4px 10px rgba(0,0,0,0.25); border:3px solid #d8c49a;">
      <div style="font-family:'Gungsuh',serif; margin-top:10px; color:#4b2c20; font-size:18px;">한지 다이어리</div>
    </div>
  </div>

  <!-- ✅ 안내 문구 -->
  <div style="text-align:center; margin-top:20px;">
    <p style="font-family:'Gungsuh',serif; font-size:20px; color:#4b2c20; line-height:1.7;">
      🎉 <strong>굿즈 10% 할인 · 카페 10% 할인 혜택</strong><br>
      <em>이 화면을 현장 직원에게 보여주세요.</em>
    </p>
  </div>

  <div style="text-align:center; margin-top:16px;">
    <button class="btn" id="btnBackHome"
      style="font-family:'Gungsuh',serif; background-color:#caa57b; color:#fff; border:none; padding:10px 20px; border-radius:10px; font-size:18px; cursor:pointer;">
      처음으로 돌아가기
    </button>
  </div>
</section>

  </main>

  <script src="app.js"></script>
</body>
</html>
