<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>우리, 하회할까?</title>
<link rel="stylesheet" href="styles.css?v=7">
<link rel="manifest" href="manifest.json">
</head>
<body>

<main class="frame" id="app">

  <!-- 타이틀 -->
  <header style="text-align:center">
    <h1>우리, 하회할까?</h1>
    <div class="notice">전통·환경·참여의 새로운 공존, 하회 수호단 RPG</div>
    <div class="nav">
      <div class="tab active" data-tab="story">스토리</div>
      <div class="tab" data-tab="character">캐릭터</div>
      <div class="tab" data-tab="quest">퀘스트</div>
      <div class="tab" data-tab="coupon">쿠폰</div>
    </div>
  </header>

  <!-- 스토리 -->
  <section id="tab-story">
    <h2>스토리라인</h2>
    <p>
      옛날 하회의 수호신 <b>농경신(토지신)</b>은 풍요와 생명을 관장했습니다.
      그러나 무분별한 쓰레기와 오염으로 <b>낙동강</b>과 땅이 병들자 분노했고,
      하회의 <b>탈</b>은 조각나 흩어졌습니다. 당신은 <b>하회 수호단</b>이 되어
      환경 정화와 전통 복원 퀘스트를 수행하고, 흩어진 탈 조각을 모아
      마을의 풍요와 안녕을 되찾아야 합니다.
    </p>
    <div style="text-align:center; margin-top:18px;">
      <button id="startBtn" class="btn primary">시작하기</button>
    </div>
    <p class="notice">* 시작하기를 눌러야 캐릭터 선택으로 이동합니다.</p>
  </section>

  <!-- 캐릭터 -->
  <section id="tab-character" hidden>
    <h2>하회 수호단을 고르세요</h2>
    <div class="characters" id="charGrid">
      <!-- 이미지 경로는 실제 업로드 경로로 맞춰주세요 -->
      <div class="char" data-id="yangban">
        <img src="./assets/characters/yangban.png?v=7" alt="양반">
        <div class="name">양반</div>
      </div>
      <div class="char" data-id="yeon">
        <img src="./assets/characters/yeon.png?v=7" alt="연이낭자">
        <div class="name">연이낭자</div>
      </div>
      <div class="char" data-id="ttogi">
        <img src="./assets/characters/ttogi.png?v=7" alt="또기">
        <div class="name">또기</div>
      </div>
      <div class="char" data-id="eojin">
        <img src="./assets/characters/eojin.png?v=7" alt="어진할배">
        <div class="name">어진할배</div>
      </div>
    </div>

    <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:16px;">
      <button id="toQuest" class="btn primary" disabled>다음(퀘스트)</button>
    </div>
  </section>

  <!-- 퀘스트 -->
  <section id="tab-quest" hidden>
    <h2>퀘스트 선택</h2>
    <div class="grid cards">
      <div class="card">
        <h3>① 분리수거 퀘스트</h3>
        <p>스마트 분리수거존 QR 스캔 후 올바르게 분리수거 수행.</p>
        <button class="btn" data-quest="recycle">시작</button>
      </div>

      <div class="card">
        <h3>② 포토존 퀘스트</h3>
        <p>강변·숲길 클린존 인증샷 업로드(#하회_환경보호).</p>
        <input type="file" accept="image/*" capture="environment" style="width:100%">
      </div>

      <div class="card">
        <h3>③ 만송정 OX 퀴즈</h3>
        <p>만송정 숲과 생태에 관한 OX 퀴즈를 풀어보세요.</p>
        <div class="ox-wrap">
          <button class="btn ox o" data-ox="O">O</button>
          <button class="btn ox x" data-ox="X">X</button>
        </div>
        <div id="oxMsg" class="notice" style="margin-top:8px;"></div>
      </div>

      <div class="card">
        <h3>④ 나의 행복 사진 올리기</h3>
        <p>하회에서 느낀 나의 행복을 사진으로 남기기.</p>
        <input id="happyUpload" type="file" accept="image/*" capture="environment" style="width:100%">
      </div>

      <div class="card">
        <h3>⑤ 잃어버린 탈 조각 찾기</h3>
        <p>현장 스탬프/QR로 탈 조각을 모아 복원.</p>
        <button class="btn" data-quest="fragments">시작</button>
      </div>
    </div>

    <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:16px;">
      <button id="toCoupon" class="btn primary">모두 완료 → 쿠폰</button>
    </div>
  </section>

  <!-- 쿠폰(굿즈 미리보기) -->
  <section id="tab-coupon" hidden>
    <h2>쿠폰 · 굿즈 미리보기</h2>
    <div class="grid cards">
      <div class="card">
        <img src="./assets/coupons/moodlight.png?v=7" alt="하회 강변 무드등">
        <div class="name">하회 강변 무드등</div>
        <p class="notice">포인트로 할인 가능</p>
      </div>
      <div class="card">
        <img src="./assets/coupons/tal-keyring.png?v=7" alt="탈 키링(업사이클)">
        <div class="name">탈 키링(업사이클)</div>
        <p class="notice">내가 고른 탈로 제작</p>
      </div>
      <div class="card">
        <img src="./assets/coupons/hanji-diary.png?v=7" alt="한지 다이어리">
        <div class="name">한지 다이어리</div>
        <p class="notice">기록하고 도장 찍기</p>
      </div>
    </div>
    <p class="notice" style="text-align:center;margin-top:12px;">
      * 모든 퀘스트 완료 시 포인트가 누적되고, 포인트는 굿즈/체험 할인권으로 교환됩니다.
    </p>
  </section>

  <div class="footer">© 2025 Hahoe Guardians · PWA Demo</div>
</main>

<script src="app.js?v=7"></script>
</body>
</html>
