<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>우리, 하회할까?</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <h1>우리, 하회할까?</h1>
    <p>전통 · 환경 · 참여의 새로운 공존, 하회 수호단 RPG</p>
  </header>

  <main class="container">

    <!-- 스토리 -->
    <section id="story" class="panel">
      <h2>스토리라인</h2>
      <p>
        옛날 하회의 수호신 <b>농경신(토지신)</b>은 풍요와 생명을 관장했으나,
        무분별한 쓰레기와 오염으로 <b>낙동강</b>이 병들자 분노했습니다.
        당신은 <b>하회 수호단</b>이 되어 환경 정화와 전통 복원 퀘스트를 수행하고,
        흩어진 <b>탈 조각</b>을 찾아 하회의 풍요를 되찾아야 합니다.
      </p>
      <div class="center">
        <button id="btnStart" class="btn primary">시작하기</button>
      </div>
      <p class="note center">* 시작하기를 눌러야만 캐릭터 선택으로 이동합니다.</p>
    </section>

    <!-- 캐릭터 -->
    <section id="characters" class="panel hidden">
      <h2>하회 수호단 선택</h2>
      <div class="characters">
        <div class="card" data-char="yangban">
          <img src="./yangban.png_v2" alt="양반">
          <div class="name">양반</div>
        </div>
        <div class="card" data-char="yeon">
          <img src="./yeon.png_v2" alt="연이낭자">
          <div class="name">연이낭자</div>
        </div>
        <div class="card" data-char="ttogi">
          <img src="./ttogi.png_v2" alt="또기">
          <div class="name">또기</div>
        </div>
        <div class="card" data-char="eojin">
          <img src="./eojin.png_v2" alt="어진할배">
          <div class="name">어진할배</div>
        </div>
      </div>
      <div class="center" style="margin-top:10px">
        <button id="btnCharNext" class="btn primary" disabled>선택하고 다음</button>
      </div>
    </section>

   <!-- 퀘스트 허브 -->
<section id="quests" class="panel hidden">
  <h2>퀘스트 선택</h2>

  <!-- ✅ 진행 현황 줄 추가 -->
  <p id="qProgress" class="note">진행 현황: 0/5 완료</p>

  <div class="quests">
    <div class="qitem" data-go="q-recycle" data-key="recycle"><h4>① 분리수거 퀘스트</h4><p>스마트 분리수거존 인증</p></div>
    <div class="qitem" data-go="q-photo"   data-key="photo"><h4>② 포토존 퀘스트</h4><p>정화 후 인증샷 업로드</p></div>
    <div class="qitem" data-go="q-ox"      data-key="ox"><h4>③ 만송정 O·X</h4><p>버튼으로 퀴즈 응답</p></div>
    <div class="qitem" data-go="q-keyring" data-key="keyring"><h4>④ 업사이클링 키링</h4><p>제작 인증 업로드</p></div>
    <div class="qitem" data-go="q-happy"   data-key="happy"><h4>⑤ 나의 행복 사진</h4><p>행복한 순간 공유</p></div>
  </div>
</section>

    <!-- ① 분리수거 -->
    <section id="q-recycle" class="panel hidden">
      <h2>분리수거 퀘스트</h2>
      <p>스마트 분리수거존 QR을 인식한 뒤 현장 사진을 올려주세요.</p>
      <input id="recycleInput" type="file" accept="image/*" capture="environment">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="recycle">완료</button>
      </div>
    </section>

    <!-- ② 포토존 -->
    <section id="q-photo" class="panel hidden">
      <h2>포토존 퀘스트</h2>
      <p>강변/숲길 정화 전·후 중 '후' 사진을 업로드 해주세요.</p>
      <input id="photoInput" type="file" accept="image/*" capture="environment">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="photo">완료</button>
      </div>
    </section>

    <!-- ③ 만송정 OX -->
    <section id="q-ox" class="panel hidden">
      <h2>만송정 O·X 퀴즈</h2>
      <p>만송정 숲의 소나무 뿌리는 모래 지형을 고정하고 생태계를 지키는 데 도움이 된다.</p>
      <div class="ox">
        <button class="btn" data-ox="O">O</button>
        <button class="btn" data-ox="X">X</button>
      </div>
      <div id="oxResult" class="center note"></div>
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="ox" disabled id="btnOxDone">완료</button>
      </div>
    </section>

    <!-- ④ 업사이클링 키링 -->
    <section id="q-keyring" class="panel hidden">
      <h2>업사이클링 키링</h2>
      <p>11개 탈 중 원하는 디자인으로 제작한 사진을 업로드해주세요.</p>
      <input id="keyringInput" type="file" accept="image/*">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="keyring">완료</button>
      </div>
    </section>

    <!-- ⑤ 나의 행복 사진 -->
    <section id="q-happy" class="panel hidden">
      <h2>나의 행복 사진</h2>
      <p>하회에서 가장 행복했던 순간을 올려주세요.</p>
      <input id="happyInput" type="file" accept="image/*">
      <div class="center" style="margin-top:10px">
        <button class="btn primary" data-done="happy">완료</button>
      </div>
    </section>

    <!-- 쿠폰 -->
    <section id="coupons" class="panel hidden">
      <h2>쿠폰 보상</h2>
      <p>모은 포인트로 아래 굿즈/체험을 할인 받을 수 있어요.</p>
      <div class="quests">
        <div class="qitem center"><img src="./assets/coupons/moodlight.png" alt="무드등" style="max-width:100%"><h4>하회 강변 무드등</h4></div>
        <div class="qitem center"><img src="./assets/coupons/tal-keyring.png" alt="탈 키링" style="max-width:100%"><h4>탈 키링</h4></div>
        <div class="qitem center"><img src="./assets/coupons/hanji-diary.png" alt="한지 다이어리" style="max-width:100%"><h4>한지 다이어리</h4></div>
      </div>
      <div class="center" style="margin-top:12px">
        <button class="btn" id="btnBackHome">처음으로</button>
      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
